<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <title>WebDALI</title>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <style type="text/css">
    .slider-widget { margin: 10px 10px 15px 10px; }
  </style>
  <script type="text/javascript" src="../lib/jqueryui/js/jquery-1.7.2.min.js"></script>
  <script type="text/javascript" src="../lib/underscore.js"></script>
  <script type="text/javascript" src="../lib/backbone.js"></script>
  <script type="text/javascript" src="../lib/jqueryui/js/jquery-ui-1.8.21.custom.min.js"></script>
  <script type="text/javascript" src="../lib/jstree/jquery.jstree.js"></script>
  <script type="text/javascript" src="slider.js"></script>
  <script type="text/javascript" src="program.js"></script>
  <script type="text/javascript" src="programlist.js"></script>
  <link rel="stylesheet" href="../lib/jqueryui/css/ui-lightness/jquery-ui-1.8.21.custom.css" />

</head>
<body>
  <div id="programMenu"></div>
  <div id="lightsList"></div>
  <div id="programList"></div>
  <script type="text/javascript">
    var Programs = new ProgramList.ProgramList;

    var AppRouter = Backbone.Router.extend ({
	routes: {
	    "programs": "programsView",
	    "controls": "controlsView",
	    "": "programsView"
	},

	programsView: function () {
	    var ProgramMenu = new ProgramList.SingleChoiceMenu({ model: Programs, el: $("#programMenu") });

	    $.jstree._themes="../lib/jstree/themes/";
	    var testTree = $("#lightsList").jstree ({
		"json_data": {
		    "ajax": {
			"url": "../server/sliders"
		    }
		},
		"plugins": ["themes", "json_data", "checkbox"]});
	}
	
    });
    var appRouter = new AppRouter;
    Backbone.history.start();
/*
    var SliderCollectionTest = Backbone.Collection.extend ({
	model: Slider.Slider,
	url: "../server/sliders"
    });

    var Sliders = new SliderCollectionTest;

    var ProgramObj = new Program.Program({name: "ohjelma"});
    var ProgramView = new Program.ProgramView ({el: $("#foo"), model: ProgramObj});

    Sliders.fetch( { success: function (sliders, response) { sliders.each (function (slider) {ProgramView.addSlider (slider)})}});
*/

</script>
</body>
</html>
